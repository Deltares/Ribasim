---
title: "QGIS plugin"
---

# Opening a model

This guide assumes you have already installed the Ribasim core and QGIS plugin as described in the [install page](/getting-started/install.qmd).

Use any running Ribasim model to follow this guide.
For ready-made example models download and unzip `generated_testmodels.zip` from the [release assets](https://github.com/Deltares/Ribasim/releases/latest), and use for instance the `basic` test model.

You can open a model by clicking on the Ribasim icon, and selecting a TOML file.

![](https://user-images.githubusercontent.com/4471859/224939101-228e068a-875b-4df2-98bb-6ee6a3830ddd.png){fig-align="left"}

Alternatively, drag a TOML file into QGIS.

# Running a model

Right-click on the model in the Layers panel and select **Run Ribasim model** from the context menu.

![](https://s3.deltares.nl/ribasim/doc-image/qgis/run-model-context-menu.png){fig-align="left"}

This will run the simulation in the background, showing progress in the QGIS task manager and a live output dialog.
When the simulation completes successfully, the model results are automatically reloaded.

![](https://s3.deltares.nl/ribasim/doc-image/qgis/run-model-dialog.png){fig-align="left"}

For QGIS to find the Ribasim executable, it must be configured via `RIBASIM_EXE`.
See the [install section](/getting-started/install.qmd#ribasim-exe) for details.

# Inspect a (large) model {#sec-inspect}

For larger models the node tables can grow quite large. To facilitate inspection,
the tables are linked via the `node_id` field to the Node table, and react to the selection of the Node layer. That is, on selection of certain nodes---either via the map or the attribute table---the selection is also made in all related tables. This is also the case for the Link layer.
It helps to set the attribute table of a table of interest to show selected features only (using the dropdown button on the bottom left).

<img alt="Selection change" src="https://github.com/user-attachments/assets/074c1f58-926b-4d5e-a640-86a5a746a4c2" class="img-fluid"/>

# Inspecting results {#sec-results}

Before inspecting the results, verify that the run was successful and the output files are there.

Click the "Time Series" button of the iMOD plugin.

![](https://user-images.githubusercontent.com/4471859/224939424-ec4c77ff-3d6b-4635-b407-ef18376587e9.png){fig-align="left"}

Select the layer that you wish to plot.
From the "Node" layer you can plot level or storage on Basin nodes.
From the "Link" layer you can plot flow over flow links.
Note that before switching between these, you typically have to click "Clear" to clear the selection.
If you run a simulation with the model open in QGIS, you have to close and re-open the "iMOD Time Series Plot" panel for the new results to be loaded.

Select the variables that you want to plot.

![](https://user-images.githubusercontent.com/4471859/224939436-a9643b68-dff0-49c3-899d-6ba13d9a6d52.png){fig-align="left"}

Click "Select points" and select a node by dragging a rectangle around it on the map.
Hold the Ctrl key to select multiple nodes.

![](https://user-images.githubusercontent.com/4471859/224939450-e369791d-3229-4621-87b0-7e1d34d0514d.png){fig-align="left"}

The associated time series are shown in the graph.

![](https://user-images.githubusercontent.com/4471859/224939471-85a23936-6eb6-4a80-a5b7-8c9a55ddc7f7.png){fig-align="left"}

Only the `basin.nc` and `flow.nc` can be inspected with the "iMOD Time Series Plot" panel.
All result files can be loaded as a layer by dragging the files onto QGIS.
Right click the layer and select "Open Attribute Table" to view the contents.

# Reloading models {#sec-reload}

If you made changes to your model outside of QGIS, and want to see the new version in QGIS, the quickest way is to click "Reload Ribasim model" in the model group's context menu, as shown below:

![](https://s3.deltares.nl/ribasim/doc-image/qgis/reload-model.png){fig-align="left"}

This avoids the need to remove the group and open the same model again via the plugin.
It can be convenient when iteratively building your model via Python, or running new simulations.
